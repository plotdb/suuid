!function(){var n=require("uuid").v4,e={map:"123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0_.",offset:6,padding:"000000"},r={map:"0123456789abcdef",offset:4,padding:"0000"},i=function(t,e,n){for(var r,i="string"==typeof t?t.split("").map(function(t){return(e.padding+e.map.indexOf(t).toString(2)).slice(-e.offset)}).reduce(function(t,e){return t+"/"+e},""):t.toString(2),o=(t=[(i=i.replace(/\//g,"")).length,Math.ceil(i.length/n.offset),""])[0],f=t[1],a=t[2],u=0;u<f;++u)r=u,r=parseInt(i.substring(o-(r+1)*n.offset,o-r*n.offset),2),a=n.map[r]+a;return a},o=function(t){return i(t,r,e)},f=function(t){return i(t,e,r)},t=function(t){var e="object"==typeof t?(t=(e=[t.id,t])[0],e[1]):{};return null==e.timestamp&&(e.timestamp=!0),t=(t=t||n().toLowerCase()).split("-").map(function(t,e){return o(t)}).join(""),(e.timestamp?o(Date.now()):"")+""+t};t.timestamp=function(t){return parseInt(f(t.substring(0,t.length-23)).replace(/^0+/,""),"16")},t.encode=o,module.exports=t}.call(this);
